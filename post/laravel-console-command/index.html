<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Laravel console command | GeekGhc&#39;s Blog</title>

<link rel="shortcut icon" href="https://GeekGhc.github.io/favicon.ico?v=1736692760153">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://GeekGhc.github.io/styles/main.css">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"> -->

<style>
    hr {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script> -->
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <style>
    /* å¯¼èˆªæ æ ·å¼ */
    .navbar {
        position: relative;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -ms-flex-align: center;
        align-items: center;
        -ms-flex-pack: justify;
        justify-content: space-between;
        padding: 0.5rem 1rem;
    }

    .navbar-brand {
        display: inline-block;
        padding-top: 0.3125rem;
        padding-bottom: 0.3125rem;
        margin-right: 1rem;
        font-size: 1.25rem;
        line-height: inherit;
        white-space: nowrap;
    }

    .navbar-brand:hover,
    .navbar-brand:focus {
        text-decoration: none;
    }

    .navbar-nav {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction: column;
        flex-direction: column;
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
    }

    .navbar-collapse {
        -ms-flex-preferred-size: 100%;
        flex-basis: 100%;
        -ms-flex-positive: 1;
        flex-grow: 1;
        -ms-flex-align: center;
        align-items: center;
    }

    .navbar-toggler {
        padding: 0.25rem 0.75rem;
        font-size: 1.25rem;
        line-height: 1;
        background-color: transparent;
        border: 1px solid transparent;
        border-radius: 0.25rem;
    }

    .navbar-toggler:hover,
    .navbar-toggler:focus {
        text-decoration: none;
    }

    @media (min-width: 992px) {
        .navbar-expand-lg {
            -ms-flex-flow: row nowrap;
            flex-flow: row nowrap;
            -ms-flex-pack: start;
            justify-content: flex-start;
        }

        .navbar-expand-lg .navbar-nav {
            -ms-flex-direction: row;
            flex-direction: row;
        }

        .navbar-expand-lg .navbar-collapse {
            display: -ms-flexbox !important;
            display: flex !important;
            -ms-flex-preferred-size: auto;
            flex-basis: auto;
        }

        .navbar-expand-lg .navbar-toggler {
            display: none;
        }
    }

    @media (max-width: 991px) {
        #navbarSupportedContent {
            display: none;
        }
    }
</style>
<nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            GeekGhc&#39;s Blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    é¦–é¡µ
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    å½’æ¡£
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    Tags
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    å…³äº
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1736692760153"
                action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* ç§»åŠ¨ç«¯å¯¼èˆªæ å±•å¼€/æ”¶èµ·åˆ‡æ¢ */
    document.getElementById('changeNavbar').onclick = function () {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Laravel console command
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2016-12-23 Â·
                    </time>
                    
                        <a href="https://GeekGhc.github.io/tag/b0tSda50f/" class="post-tags">
                            # Laravel
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>Laravel ä¸ºæˆ‘ä»¬æä¾›äº†ä¸åŒçš„å‘½ä»¤è¡Œåˆ›å»ºæ–¹å¼ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å‘å®šä¹‰è·¯ç”±ä¸€æ ·åˆ›å»ºè‡ªå®šä¹‰çš„å‘½ä»¤è¡Œ è¿™åœ¨æˆ‘ä»¬é¡¹ç›®å‘å¸ƒçš„åˆå§‹åŒ–çš„æ—¶å€™ éå¸¸çš„æ–¹ä¾¿å’Œå¿…è¦</p>
<h2 id="å¼€å§‹">å¼€å§‹</h2>
<p>åœ¨**laravel(5.3)**é¡¹ç›®é‡Œ<code>routes</code>æ–‡ä»¶å¤¹ä¸‹åŒ…å«äº†éœ€è¦çš„è·¯ç”±çš„å®šä¹‰ å½“ç„¶è¿˜æœ‰å°±æ˜¯å®šä¹‰æˆ‘ä»¬çš„<code>command</code> ä¹Ÿå°±æ˜¯<code>console.php</code>è¿™é‡Œé¢çš„å®šä¹‰å’Œè·¯ç”±çš„<br>
å®šä¹‰å…¶å®è¿˜æ˜¯éå¸¸çš„è±¡çš„</p>
<p>åœ¨<code>console.php</code>é‡Œæˆ‘ä»¬æ˜¯å¯ä»¥çœ‹åˆ°:</p>
<pre><code class="language-php?start_inline=1">Artisan::command('inspire', function () {
    $this-&gt;comment(Inspiring::quote());
})-&gt;describe('Display an inspiring quote');
</code></pre>
<p>è¿™é‡Œå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ª<code>inspire</code> å‘½ä»¤ æˆ‘ä»¬å¯ä»¥å»å‘½ä»¤è¡Œå»æ‰§è¡Œ:</p>
<pre><code class="language-shell">$ php artisan inspire
</code></pre>
<p>è¿™é‡Œå…¶å®å°±ä¼šéšæœºè¿”å›ç»™æˆ‘ä»¬ä¸€å¥åè¨€è­¦å¥</p>
<p>åœ¨è¿™é‡Œå»æˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç®€å•çš„å‘½ä»¤ æˆ‘ä»¬å»ç®€å•å£°æ˜ä¸€ä¸‹</p>
<pre><code class="language-php?start_inline=1">Artisan::command('hello', function () {
    $this-&gt;comment(&quot;Hello!!&quot;);
});
</code></pre>
<p>ç°åœ¨å†å»å‘½ä»¤è¡Œæ‰§è¡Œ</p>
<pre><code class="language-shell">$ php artisan 
</code></pre>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±ä¼šçœ‹åˆ°æœ‰<code>php artisan hello</code>è¿™ä¸ªå‘½ä»¤äº†</p>
<p>æˆ‘ä»¬è€Œæ˜¯å¯ä»¥æ˜¯å»ä¼ é€’å‚æ•°çš„ æ¯”æ–¹è¯´æ˜¯è¿™æ ·:</p>
<pre><code class="language-php?start_inline=1">Artisan::command('hello {name}', function () {
    $this-&gt;comment(&quot;Hello &quot;.$this-&gt;argument('name'));
})-&gt;describe('Say Hello to somebody');
</code></pre>
<p>å¦‚æœæƒ³å»ä¸ºè¿™æ¡å‘½ä»¤ç”Ÿæˆä¸€ä¸ªè¯´æ˜çš„è¯å¯ä»¥ç›´æ¥åœ¨åé¢åŠ ä¸Š<code>describe</code>(å°±åƒä¹‹å‰çš„é‚£æ ·)</p>
<p>å’Œå¾ˆå¤šçš„å‘½ä»¤ä¸€æ · å¦‚æœå¯¹å‘½ä»¤çš„å‚æ•°æˆ–å…¶ä»–æœ‰ç–‘é—®çš„è¯ å°±å¯ä»¥å€ŸåŠ©helpè¿™ä¸ªtagå»æŸ¥çœ‹</p>
<pre><code class="language-shell">$ php artisan help hello
</code></pre>
<h2 id="è‡ªå®šä¹‰-artisan-å‘½ä»¤">è‡ªå®šä¹‰ <strong>Artisan</strong> å‘½ä»¤</h2>
<p>ä¹‹å‰åŸºæœ¬ç†Ÿæ‚‰äº†<code>artisan</code> å‘½ä»¤çš„ä½œç”¨ é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å¯ä»¥è‡ªå·±å»è‡ªå®šä¹‰ä¸€ä¸ªå‘½ä»¤æ¥å®ç°æ›´å¤šçš„ä¸šåŠ¡éœ€æ±‚</p>
<p>æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ:</p>
<pre><code class="language-shell">$ php artisan make:command InstallProject 
</code></pre>
<blockquote>
<p>ç‰¹åˆ«çš„åœ¨<strong>5.1</strong>ä¹‹å‰çš„ç‰ˆæœ¬æ˜¯æ‰§è¡Œ<code>php artisan make:cnsole xxxx</code></p>
</blockquote>
<p>ç”Ÿæˆçš„æ–‡ä»¶å°±åœ¨<code>App\Console\Command</code>ä¸‹</p>
<p>å…¶ä¸­æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯</p>
<pre><code class="language-php?start_inline=1">protected $signature = 'command:name';
</code></pre>
<p>å®šä¹‰äº†æˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥çš„å‘½ä»¤ ä¸¾ä¸ªä¾‹å­æ¥è¯´å¦‚æœæ˜¯ä¸€ä¸ªBlogé¡¹ç›® é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å»å®šä¹‰</p>
<pre><code class="language-php?start_inline=1">protected $signature = 'blog:install';
</code></pre>
<p>å®šä¹‰å®Œå‘½ä»¤ä¹‹å ä¸‹é¢çš„<code>handle function</code>å°±è´Ÿè´£æˆ‘ä»¬æœ€åçš„è¾“å‡º</p>
<p>è¿™é‡Œå…ˆåšä¸€ä¸ªå°çš„æµ‹è¯• å°±æ˜¯å»æ‰“å°ä¸€äº›ä¿¡æ¯æç¤º:</p>
<pre><code class="language-php?start_inline=1">public function handle()
{
    $this-&gt;info(&quot;This is test data&quot;);
}
</code></pre>
<p>ä¼šåæˆ‘ä»¬ä¼šéœ€è¦å»<code>Kernel</code>æ–‡ä»¶å»æ³¨å†Œæˆ‘ä»¬åˆšå®šä¹‰å¥½çš„<code>command</code></p>
<pre><code class="language-php?start_inline=1">protected $commands = [
    \App\Console\Commands\InstallProject::class
];
</code></pre>
<p>å†™å¥½ä¹‹åå†å»æ‰§è¡Œ:</p>
<pre><code class="language-shell">$ php artisan 
</code></pre>
<p>å°±ä¼šçœ‹åˆ°æˆ‘ä»¬åˆšå®šä¹‰å¥½çš„å‘½ä»¤äº†</p>
<p>æˆ‘ä»¬å¯ä»¥å»æ‰§è¡Œä¸€ä¸‹è¿™ä¸ªå‘½ä»¤æ˜¯å¯ä»¥çœ‹åˆ°æ‰“å°å‡ºæ¥çš„æ•°æ®çš„</p>
<pre><code class="language-shell">$ php artisan blog:install
</code></pre>
<p>å’Œä¹‹å‰åœ¨è·¯ç”±é‡Œé¢å»å®šä¹‰æˆ‘ä»¬çš„å‘½ä»¤ä¸€æ · æˆ‘ä»¬åŒæ ·å¯ä»¥å»ä¼ é€’å‚æ•°</p>
<pre><code class="language-php?start_inline=1">protected $signature = 'blog:install {name}';
</code></pre>
<p>åœ¨å»ä¿®æ”¹ä¸€ä¸‹<code>handle</code>æ–¹æ³•</p>
<pre><code class="language-php?start_inline=1">public function handle()
{
    $this-&gt;info(&quot;This is test data and name is &quot;.$this-&gt;argument('name'));
}
</code></pre>
<p>å¦‚æœéœ€è¦å¯é€‰å‚æ•°çš„è¯å°±å’Œè·¯ç”±çš„è¦æ±‚ä¸€æ · åªéœ€è¦åœ¨<code>name</code>å»å£°æ˜</p>
<pre><code class="language-php?start_inline">protected $signature = 'blog:install {name?}';
</code></pre>
<h2 id="å®é™…é¡¹ç›®åº”ç”¨">å®é™…é¡¹ç›®åº”ç”¨</h2>
<p>1.æ›´å¤šçš„æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨é¡¹ç›®åˆå§‹åŒ–æ—¶éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å»æäº¤ä¸€äº›ä¿¡æ¯ æ¯”å¦‚ç”¨æˆ·å é‚®ç®±ç­‰ç­‰<br>
è¿™æ ·çš„åº”ç”¨åœºæ™¯çš„è¯æˆ‘ä»¬å°±éœ€è¦ä¸€ç§äº¤äº’å¼è¾“å…¥ å…ˆæ¥ä¸€ä¸ªç®€å•çš„æ —å­ ğŸ˜„</p>
<pre><code class="language-php?start_inline">public function handle()
{
    $name = $this-&gt;ask('è¯·è¾“å…¥ä½ çš„åå­—?');
    $email = $this-&gt;ask('è¯·è¾“å…¥ä½ çš„é‚®ç®±?');
    $data = [
        'name'     =&gt; $name,
        'email'    =&gt; $email,
    ];
    $this-&gt;register($data);
}
</code></pre>
<p>ç„¶åå°±å¯ä»¥å»å®šä¹‰è¿™ä¸ª<code>register function</code></p>
<pre><code class="language-php?start_inline=1">public function register($data)
{
    $this-&gt;info($data['name']);
}
</code></pre>
<p>è¿™æ ·çš„è¯å°±å¯ä»¥æ‹¿åˆ°ç”¨æˆ·è¾“å…¥çš„æ•°æ®çš„è¯ è¿™æ ·çœ‹çš„è¯å¥½åƒç”¨å¤„ä¸åˆ° å…¶å®åœ¨æ‹¿åˆ°è¿™ç»„æ•°æ®ä¹‹åæˆ‘ä»¬å°±å¯ä»¥è¿›è¡ŒéªŒè¯ å¹¶å»åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ•°æ®</p>
<p>ç‰¹åˆ«æ˜¯å¯¹ä¸€ä¸ªåå° è¿™æ ·å»åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜è¿˜æ˜¯æœ‰å¿…è¦çš„</p>
<p>å…¶å®è¿™æ ·çš„äº¤äº’å¼è¾“å…¥è¿˜æœ‰å¾ˆå¤š æ¯”å¦‚ç»™ç”¨æˆ·çš„é€‰æ‹© å…·ä½“çš„çœ‹ä¸‹æ–‡æ¡£å°±æ˜ç™½äº†</p>
<p>2.è°ƒç”¨å…¶ä»–å‘½ä»¤<br>
å…¶å®è¿™ä¸ªå®ç°èµ·æ¥ä¹Ÿå¾ˆå®¹æ˜“ ä¹Ÿå°±æ˜¯å»è°ƒç”¨<code>call</code>è¿™ä¸ªæ–¹æ³•</p>
<pre><code class="language-php?start_inline=1">public function handle()
{
     $this-&gt;call('key:generate');
     $this-&gt;call('migrate');
     $this-&gt;info('æ•°æ®è¡¨åˆ›å»ºæˆåŠŸ');
}
</code></pre>
<blockquote>
<p>å½“ç„¶å‰ææ˜¯æ•°æ®åº“æ˜¯å¯¹åº”çš„ä½ å¯¹åº”çš„æ•°æ®åº“ å¦‚æœåœ¨<code>homestead</code>ä¸‹å¼€å‘ è¿™äº›ä¹Ÿå°±ä¸ç”¨ç®¡ä»–äº†</p>
</blockquote>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="https://GeekGhc.github.io/post/vuejs-chu-li-hou-duan-laravel-api/" class="post-title gt-a-link">
                    VueJså¤„ç†åç«¯Laravel Api
                </a>
            </div>
        

        
            <span id="/post/laravel-console-command/" class="leancloud_visitors" data-flag-title="Laravel console command">
                <em class="post-meta-item-text">é˜…è¯»é‡ </em>
                <i class="leancloud-visitors-count">0</i>
            </span>
        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: '',
		appKey: '',
		avatar: 'retro',
		pageSize: 10,
		recordIp: true,
		placeholder: 'everything you want to say',
		visitor: true,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">ç”Ÿæ´»ä¸æ­¢äºå·¥ä½œï¼Œæ˜¯çš„ï¼Œæˆ‘å¾ˆæ£’ ^=^</div>
    <div class="social-container">
        
            
                <a href="https://github.com/GeekGhc" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/GeekGhc" target="_blank">ByteWriter</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://GeekGhc.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
